\section{Volatility estimation: continuous prices } \label{sec:estimator}
In this section we specify a consistent estimator of  spot volatility within a framework of continuous prices. That is, we simplify the general setup of \eqref{eq:semimartingale} to:
\begin{align}
  X_t & = X_0 + \int_0^t b_s \D s + \int_0^t \sigma_s \D W_s,    \qquad t \ge 0 
  \label{eq:contsemimartingale}.
\end{align}
We further restrict the processes $b$ and $\sigma$ as follows: 
\input{semiass}
Let $\{g, \tg\}$ be a pair of dual Gabor frame generators constructed as in Lemma \ref{le:gabor}, then   \sv admits a Gabor frame expansion given by:  
\begin{align}
  &\sv(t)  = \sum_{h,k \in \ints} \chk \;g_{h,k}(t), \text{ where } 
\\
&\chk = \langle \sv, \tilde{g}_{h,k} \rangle. \label{eq:chk}
\end{align}
Note that both $\sv$ and $\tg$ have compact support. Indeed \sv has support in $[0,1]$, whereas  \tg has support in $[s,r]$. So, $\chk \ne 0$ only if  the supports of \sv and \tghk overlap.  Furthermore, we note from \eqref{eq:dualghk} that $\tilde{g}_{h,k+1}$ is simply \tghk shifted by $b$ units; so, $\chk = 0$ if $|k| \ge K_0$ with 
\begin{align}
  K_0:= \lceil ( 1 + |s| + |r|)/b \rceil,
\end{align}
where $\lceil x\rceil$, $x \in \real$, is the least  integer that is greater than or equal to   $x$.  Thus \sv admits a  representation of the form: 
\begin{align}
  \sv(t) =  \sum_{\substack{(h,k) \in \ints^2\\\vert k \vert \le K_0}} \chk\;g_{h,k}(t) ,\notag
\end{align}
and  for sufficiently large positive integer $H$, 
 \begin{align}
 \sv(t) \approx \sum_{\substack{\vert h \vert \le H \\\vert k \vert \le K_0}} \chk\;g_{h,k}(t). \notag
  \notag
   \label{}
 \end{align}
 Now, suppose $n$ observations of the price process are available, and let 
\begin{align}
  \Theta_n := \{(h,k) \in \ints^2 : |h| \le H_n \text{ and }|k| \le K_0\},
  \label{eq:theta}
\end{align}
where $H_n$ is an increasing sequence in $n$.    
We propose the following estimator of the volatility coefficient:
\begin{align}
  \label{eq:contvolestimator}
  &\svnx := \sum_{(h,k) \in \Theta_n} \cnhk\;g_{h,k}(t), \qquad  t \in [0,1], \text{ where}\\
  &\cnhk := \sum_{i =0}^{n-1} \btghki (X_{t_{i+1}} - X_{t_i})^2.
\end{align}
So $\vert \Theta_n \vert $ is the number of frame elements included in the expansion. Specifically,   $\vert \Theta_n\vert = (2K_0 + 1)(2H_n+1)$; and since $K_0$ is a finite quantity, it follows that $\vert\Theta_n\vert = O(H_n)$, i.e. the number of estimated coefficients is proportional to $H_n$, and therefore, will grow with the number of observations, $n$. 
In the next section we show that the estimator converges to $\sigma^2$ on $[0,1]$ in probability.
\input{semivol}
\begin{comment}
\section{Asymptotic properties} \label{sec:deviation}

Let $R_n$ denote the average integrate square deviation of \svn from \bsv, i.e.  
\begin{align}
R_n = \e \int_\real \{\svn(t) - \bsv(t)\}^2 \lambda(t) \D t,
  \label{eq:remeainder}
\end{align}
where $\lambda$ is a positive and continuous weight function with support in $(0,1)$. The weight function allows us to emphasis different time windows when estimating the volatility. For instance, we may wish to emphasize the recent past in real-time applications. 
We show that $R_n$ tends to 0 as a function of the sample size, $n$. Note that $R_n$ is the sum of a bias and a variance component, which we write as follows:
\begin{align}
  &R_n = B_n^2 + V_n, \notag \qquad \text{ } 
\end{align}
where
\begin{align}
  &B^2_n := \int_\real (\e[\svn(t) - \bsv(t)])^2 \lambda(t) \D t \label{eq:ibias}\\
  &V_n :=  \int_\real \e[\{\svn(t) - \e[\svn(t)]\}^2] \lambda(t) \D t. \label{eq:ivar}
\end{align}
\begin{prop} \label{pr:consistency}
  Let $\{g, \tg\}$ be pair of dual Gabor generators constructed as in Lemma \ref{le:gabor}.   Suppose the conditions in  Assumption \ref{as:vol} and \eqref{as:barvol} hold. If  $H_n^2 \Delta_n, H_n\omega_g(\Delta_n)$, and  $\omega_{\sigma^2}(1/H_n) \log H_n\to 0$, then the mean integrated square error
  $R_n$ tends to 0 as $n$ tends to infinity, with 
  \begin{align}
    & B_n^2 = O(H_n^2\Delta_n + \{H_n\omega_g(\Delta_n)\}^2 + \{\omega_{\sigma^2}(1/H_n) \log H_n\}^2)\notag \\
    & V_n = O(H_n^2 \Delta_n),
    \label{}
  \end{align}
  where $\omega_g(\delta) := \sup \{ |g (t) - g(t')|: t, t' \in \real \text{ and } |t -t'| < \delta\}$. 
\end{prop}
\begin{proof}
  See Appendix \ref{ap:proof}.
\end{proof}

\end{comment}
